<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Authorize googledrive — drive_auth • googledrive</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- tidyverse -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">googledrive</a>
        <small class="tidyverse">part of the <a href="http://tidyverse.org">tidyverse</a></small>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/index.html">All Articles</a>
    </li>
    <li>
      <a href="../articles/articles/file-identification.html">File Identification</a>
    </li>
    <li>
      <a href="../articles/articles/multiple-files.html">Dealing with multiple files</a>
    </li>
    <li>
      <a href="../articles/articles/permissions.html">File permissions</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/googledrive">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Authorize googledrive</h1>
    </div>

    
    <p>Authorize googledrive to view and manage your Drive files. By default, you
are directed to a web browser, asked to sign in to your Google account,
and to grant googledrive (the tidyverse, actually) permission to operate on
your behalf with Google Drive. By default, these user credentials are cached
in a file named <code>.httr-oauth</code> in the current working directory, from where
they can be automatically refreshed, as necessary.</p>
    

    <pre class="usage"><span class='fu'>drive_auth</span>(<span class='kw'>oauth_token</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>service_token</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>reset</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>cache</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"httr_oauth_cache"</span>),
  <span class='kw'>use_oob</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"httr_oob_default"</span>), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>oauth_token</th>
      <td><p>Optional; path to an <code>.rds</code> file with a previously stored
OAuth token.</p></td>
    </tr>
    <tr>
      <th>service_token</th>
      <td><p>Optional; a JSON string, URL, or path, giving or
pointing to the service token file.</p></td>
    </tr>
    <tr>
      <th>reset</th>
      <td><p>Logical, defaults to <code>FALSE</code>. Set to <code>TRUE</code> if you want to
forget any token previously used in this session and start afresh. Disables
the <code>.httr-oauth</code> file in current working directory by renaming to
<code>.httr-oauth-SUSPENDED</code>.</p></td>
    </tr>
    <tr>
      <th>cache</th>
      <td><p>A logical value or a string. <code>TRUE</code> means to cache
using the default cache file <code>.httr-oauth</code>, <code>FALSE</code> means
don't cache, and <code>NA</code> means to guess using some sensible heuristics.
A string mean use the specified path as the cache file.</p></td>
    </tr>
    <tr>
      <th>use_oob</th>
      <td><p>if FALSE, use a local webserver for the OAuth dance.
Otherwise, provide a URL to the user and prompt for a validation
code. Defaults to the of the <code>"httr_oob_default"</code> default,
or <code>TRUE</code> if <code>httpuv</code> is not installed.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical, indicating whether to print informative messages
(default <code>TRUE</code>).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Most users, most of the time, do not need to call <code>drive_auth()</code> explicitly
-- it is triggered by the first action that requires authorization. Even when
called, the default arguments will often suffice. However, when necessary,
this function allows the user to</p><ul>
<li><p>force the adoption of a new token, via <code>reset = TRUE</code></p></li>
<li><p>retrieve current token, e.g., for storage to an <code>.rds</code> file</p></li>
<li><p>put a pre-existing OAuth or service account token into force</p></li>
<li><p>prevent the caching of new, interactively-obtained credentials in
<code>.httr-oauth</code></p></li>
</ul>
    <p>For even deeper control over auth, use <code><a href='drive_auth_config.html'>drive_auth_config()</a></code> to use your own
OAuth app or API key. <code><a href='drive_auth_config.html'>drive_auth_config()</a></code> also allows you to
deactivate auth, sending only an API key in requests, which works if you
only need to access public data.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>More detail is available from
<a href='https://developers.google.com/identity/protocols/OAuth2InstalledApp'>Using OAuth 2.0 for Installed Applications</a></p>
<p>Other auth functions: <code><a href='drive_auth_config.html'>drive_auth_config</a></code>,
  <code><a href='drive_deauth.html'>drive_deauth</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'>## load/refresh existing credentials, if available</span>
<span class='co'>## otherwise, go to browser for authentication and authorization</span>
<span class='fu'>drive_auth</span>()

<span class='co'>## force a new oauth token to be obtained</span>
<span class='fu'>drive_auth</span>(<span class='kw'>reset</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'>## store token in an object and then to file</span>
<span class='no'>ttt</span> <span class='kw'>&lt;-</span> <span class='fu'>drive_auth</span>()
<span class='fu'>saveRDS</span>(<span class='no'>ttt</span>, <span class='st'>"ttt.rds"</span>)

<span class='co'>## load a pre-existing token</span>
<span class='fu'>drive_auth</span>(<span class='st'>"ttt.rds"</span>) <span class='co'># from .rds file</span>

<span class='co'>## use a service account token</span>
<span class='fu'>drive_auth</span>(<span class='kw'>service_token</span> <span class='kw'>=</span> <span class='st'>"foofy-83ee9e7c9c48.json"</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="tidyverse">
  <p>googledrive is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="http://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>Developed by Lucy D'Agostino McGowan, Jennifer Bryan, <a href='https://www.rstudio.com'><img src='http://tidyverse.org/rstudio-logo.svg' height='24' /></a>.</p>
  <p>Site built by <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67989-18', 'auto');
  ga('send', 'pageview');
</script>
      </footer>
   </div>

  </body>
</html>
