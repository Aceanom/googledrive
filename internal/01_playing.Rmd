---
title: "playing"
author: "Lucy Dâ€™Agostino McGowan"
date: "4/26/2017"
output: 
  github_document:
    toc: true
---

*side note, really excited to include emojis in a non-hacky way, thanks [emo::ji](http://github.com/hadley/emo)* `r emo::ji("sunflower")`

```{r, message = FALSE, warning = FALSE}
library('googledrive')
library('dplyr')
```

## List

`gd_ls()` pulls out name, type, & id 
(we probably don't want to see id, but seems useful to have here, so we could pick which one we want to get more info on?)
```{r}
gd_ls()
```

We can search using regular expressions

```{r}
gd_ls(search = "name")
```

We can also pass additional query parameters through the `...`, for example

```{r}
gd_ls(search = "name", orderBy = "modifiedTime desc")
```

## Metadata

Note: now it seems we have to specify the fields (in v2 where I was working previously, it would automatically output everything, see [this](https://developers.google.com/drive/v3/web/migration)).

List of all fields [here](https://developers.google.com/drive/v3/web/migration).

Now let's say I want to dive deeper into the top one

```{r}
metadata_tbl <- gd_ls("name")$id[1] %>%
                  gd_get()
metadata_tbl
```

In addition to the things I've pulled out, there is a `list-col` (now named `object`, this should change), that contains all output fields.

```{r}
metadata_tbl %>%
  select(object)
```

and we can dive deeper into this object by piecing through this list like so

```{r}
metadata_tbl %>%
  select(object) %>%
  .[[1]] %>% #ick this is clearly not the best way to do this...
  .[[1]] %>%
  .$permissions
  
```

## User info

```{r}
gd_user()
```

## Upload file

```{r}
write.table("this is a test", file = "~/desktop/test.txt")
gd_upload(file = "~/desktop/test.txt")
```

