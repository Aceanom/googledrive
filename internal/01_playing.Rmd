---
title: "playing"
author: "Lucy Dâ€™Agostino McGowan"
date: "4/26/2017"
output: 
  github_document:
    toc: true
---

*side note, really excited to include emojis in a non-hacky way, thanks [emo::ji](http://github.com/hadley/emo)* `r emo::ji("sunflower")`

```{r, message = FALSE, warning = FALSE}
library('googledrive')
library('dplyr')
```

## List

`gd_ls()` pulls out name, type, & id 
(we probably don't want to see id, but seems useful to have here, so we could pick which one we want to get more info on?)
```{r}
gd_ls()
```

We can search using regular expressions

```{r}
gd_ls(search = "test")
```

We can also pass additional query parameters through the `...`, for example

```{r}
gd_ls(search = "test", orderBy = "modifiedTime")
```

## Metadata

Note: now it seems we have to specify the fields (in v2 where I was working previously, it would automatically output everything, see [this](https://developers.google.com/drive/v3/web/migration)).

List of all fields [here](https://developers.google.com/drive/v3/web/migration).

Now let's say I want to dive deeper into the top one

```{r}
id <- gd_get_id("test")
file <- gd_file(id)
file
```

In addition to the things I've pulled out, there is a `tibble` of permissions as well as a  `list` (now named `kitchen_sink`, this should change), that contains all output fields.

```{r}
file$permissions
```


```{r}
str(file$kitchen_sink)
```


## User info

```{r}
gd_user()
```

## Upload file

```{r}
write.table("this is a test", file = "~/desktop/test.txt")
gd_upload(file = "~/desktop/test.txt", name = "This is a test", overwrite = TRUE)
```

```{r}
file <- gd_file(gd_get_id("This is a test"))
file
```

## Update sharing

```{r}
gd_share(file, role = "writer", type = "user", email = "dagostino.mcgowan.stats@gmail.com",message = "I am sharing this cool file with you. Now you can write. You are welcome." )
```

## Extract share link
```{r}
gd_share_link(file)
```

## View permissions

```{r}
file$permissions
```



## Delete file
```{r}
gd_delete(file)
```



